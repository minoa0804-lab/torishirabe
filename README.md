# 取り調べリズムゲーム「聞く・話すの達人」

## 概要
検察官として適正な取調べを行うリズムゲームです。被疑者の話に合わせて「聞く」「確認する」「記録する」「待つ」といったアクションをタイミングよく実行し、丁寧な取調べの方法を学びます。

## 遊び方

### 基本操作
- **聞くボタン（🎧）**: 相手の話を遮らず、相づちを打つ
- **確認ボタン（✅）**: 重要な部分を要約して確かめる
- **記録ボタン（📝）**: 聞いた内容をメモに残す
- **待つ**: 何もせず、相手の話を待つ（特定の場面で⏸️アイコンが表示）

### キーボード操作（オプション）
- `Z` キー: 聞く
- `X` キー: 確認
- `C` キー: 記録

### ゲームの流れ
1. 難易度を選択（EASY / NORMAL / HARD）
2. 画面上から降ってくるノート（アイコン）を確認
3. 判定ラインに重なったタイミングでボタンをタップ
4. 被疑者の話の内容に合わせて適切なアクションを選択
5. コンボをつなげて高得点を目指す

### 判定
- **PERFECT**: タイミングぴったり（±100ms以内）
- **GOOD**: やや遅れた/早い（±200ms以内）
- **MISS**: タイミングを外した、または不適切なアクション

### NG行動
画面右下の「怒鳴」「急か」ボタンは押すと減点されます。これらは不適切な取調べの例として設置されています。

## ゲームの特徴

### 教育的要素
- **適正な取調べの学習**: 「よく聞き、よく確かめ、正しく記録する」という検察の基本姿勢を体験
- **NG行動の理解**: 威圧的な取調べや急かす行動は減点され、適切でないことを学習
- **シーンに応じた対応**: 被疑者の感情的な話には「聞く」や「待つ」、事実確認には「確認」や「記録」といった状況判断

### 難易度設定
- **EASY**: BPM 100、基本的な聞き取りに集中
- **NORMAL**: BPM 120、「待つ」アクションも必要
- **HARD**: BPM 150、高速で密度の高いノート配置

### 評価システム
- **Sランク**: 完璧な取調べ（正答率95%以上）
- **Aランク**: 聞き上手な検察官（正答率85%以上）
- **Bランク**: 基本的な聞き取りができている（正答率70%以上）
- **Cランク**: 確認が不足（正答率50%以上）
- **Dランク**: 改善が必要（正答率50%未満）

※NG行動があるとランクが下がります

## ファイル構成
```
torishirabe/
├── index.html      # メインHTML
├── style.css       # スタイルシート
├── game.js         # ゲームロジック
├── data.js         # シナリオデータ
└── README.md       # このファイル
```

## カスタマイズ方法

### シナリオの追加・編集
`data.js`の`SCENARIOS`オブジェクトを編集することで、新しいケースを追加したり、既存のシナリオを変更できます。

```javascript
{
    time: 2.0,                    // 出現時刻（秒）
    type: "listen",               // ノートタイプ
    expectedAction: "listen",     // 期待されるアクション
    dialogue: "被疑者：「...」",  // 吹き出しテキスト
    scene: "intro"                // シーン分類
}
```

### 判定タイミングの調整
`data.js`の`JUDGMENT_TIMING`で判定の厳しさを変更できます。

### スコア設定の変更
`data.js`の`SCORE_VALUES`でスコア配分を調整できます。

## 技術仕様
- **言語**: HTML5, CSS3, JavaScript (ES6+)
- **依存関係**: なし（ピュアJavaScript）
- **対応ブラウザ**: モダンブラウザ全般
- **レスポンシブ**: スマートフォン対応

## 今後の拡張案
1. **BGM・効果音の追加**: Web Audio APIを使った音楽同期
2. **複数のケース**: 万引き以外の事件シナリオ
3. **ストーリーモード**: 複数の取調べを連続で行うモード
4. **マルチプレイ**: スコアランキング機能
5. **CSV読み込み**: 外部ファイルからシナリオを読み込む機能

## ライセンス
このプロジェクトは教育目的で作成されています。

## クレジット
企画・設計: 検察庁広報プロジェクト
開発: GitHub Copilot

---

**適正な取調べは、よく聞き、よく確かめ、正しく記録するところから始まります。**
